# é”é è¨‚å–®ç®¡ç†ç³»çµ± Pro

[![å»ºç½®ç‹€æ…‹](https://img.shields.io/badge/build-passing-brightgreen.svg)](https://replit.com)
[![æˆæ¬Š](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![ç‰ˆæœ¬](https://img.shields.io/badge/version-2.0.0-blue.svg)](CHANGELOG.md)

> ç¾ä»£åŒ–çš„ä¼æ¥­ç´šè¨‚å–®ç®¡ç†ç³»çµ±ï¼Œæä¾›å®‰å…¨çš„å¤šå±¤ç´šèº«åˆ†é©—è­‰å’Œæ™ºèƒ½åŒ–ä½¿ç”¨è€…é«”é©—

## ç›®éŒ„

- [èƒŒæ™¯](#èƒŒæ™¯)
- [åŠŸèƒ½ç‰¹è‰²](#åŠŸèƒ½ç‰¹è‰²)
- [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
- [å¿«é€Ÿé–‹å§‹](#å¿«é€Ÿé–‹å§‹)
- [ç³»çµ±éœ€æ±‚](#ç³»çµ±éœ€æ±‚)
- [å®‰è£æŒ‡å—](#å®‰è£æŒ‡å—)
- [ä½¿ç”¨èªªæ˜](#ä½¿ç”¨èªªæ˜)
- [API æ–‡ä»¶](#api-æ–‡ä»¶)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [ç¶­è­·æŒ‡å—](#ç¶­è­·æŒ‡å—)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [è²¢ç»æŒ‡å—](#è²¢ç»æŒ‡å—)
- [æˆæ¬Š](#æˆæ¬Š)

## èƒŒæ™¯

é”é è¨‚å–®ç®¡ç†ç³»çµ±æ˜¯ä¸€å€‹ç‚ºä¼æ¥­è¨­è¨ˆçš„ç¾ä»£åŒ–è¨‚å–®è™•ç†å¹³å°ï¼Œè§£æ±ºäº†å‚³çµ±è¨‚å–®ç®¡ç†ç³»çµ±åœ¨å®‰å…¨æ€§ã€ä½¿ç”¨è€…é«”é©—å’Œæ•ˆèƒ½æ–¹é¢çš„ç—›é»ã€‚ç³»çµ±æ¡ç”¨æ¼¸é€²å¼ Web æ‡‰ç”¨ï¼ˆPWAï¼‰æ¶æ§‹ï¼Œæ”¯æ´éŸ¿æ‡‰å¼è¨­è¨ˆå’Œé›¢ç·šåŠŸèƒ½ã€‚

### è§£æ±ºçš„æ ¸å¿ƒå•é¡Œ
- **å®‰å…¨æ€§ä¸è¶³**ï¼šå‚³çµ±ç³»çµ±ç¼ºä¹å¤šå±¤ç´šèº«åˆ†é©—è­‰
- **ä½¿ç”¨è€…é«”é©—å·®**ï¼šä»‹é¢éæ™‚ï¼Œæ“ä½œè¤‡é›œ
- **è³‡æ–™åŒæ­¥å›°é›£**ï¼šä¸åŒæ¬Šé™ç”¨æˆ¶çš„è³‡æ–™å¯è¦‹æ€§å•é¡Œ
- **ç¶­è­·å›°é›£**ï¼šç¼ºä¹çµ±ä¸€çš„ç‹€æ…‹ç®¡ç†å’ŒéŒ¯èª¤è™•ç†

## åŠŸèƒ½ç‰¹è‰²

### ğŸ” å¤šå±¤ç´šèº«åˆ†é©—è­‰
- **è¨ªå®¢æ¨¡å¼**ï¼šå¯å»ºç«‹è¨‚å–®å’ŒæŸ¥çœ‹è¿‘ 3 å€‹æœˆå®Œæˆè¨‚å–®
- **æœƒå“¡æ¨¡å¼**ï¼šå¯æŸ¥çœ‹è¿‘ 1 å¹´æ­·å²è¨‚å–®
- **ç®¡ç†å“¡æ¨¡å¼**ï¼šå®Œæ•´ç³»çµ±ç®¡æ§å’Œæ‰€æœ‰æ­·å²è³‡æ–™å­˜å–

### ğŸ“Š æ™ºèƒ½åŒ–è³‡æ–™åˆ†æ
- å¯¦æ™‚çµ±è¨ˆå„€è¡¨æ¿
- æœˆä»½å’Œå¹´åº¦è¨‚å–®åˆ†æ
- è‡ªå‹•åŒ–å ±è¡¨ç”Ÿæˆï¼ˆPDF åŒ¯å‡ºï¼‰
- å‹•æ…‹æ•¸æ“šè¦–è¦ºåŒ–

### ğŸ¨ ç¾ä»£åŒ– UI/UX
- Glass morphism è¨­è¨ˆèªè¨€
- éŸ¿æ‡‰å¼ä½ˆå±€ï¼ˆæ”¯æ´æ¡Œé¢/å¹³æ¿/æ‰‹æ©Ÿï¼‰
- æš—é»‘/æ˜äº®ä¸»é¡Œåˆ‡æ›
- 3D æŒ‰éˆ•æ•ˆæœå’Œæµæš¢å‹•ç•«

### ğŸ”„ å³æ™‚åŒæ­¥
- å…¨å±€ç‹€æ…‹ç®¡ç†
- å³æ™‚é€šçŸ¥ç³»çµ±
- è‡ªå‹•è³‡æ–™é‡æ–°æ•´ç†
- é›¢ç·šåŠŸèƒ½æ”¯æ´

## æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“æ£§
- **React 18**ï¼šç¾ä»£åŒ–å‰ç«¯æ¡†æ¶
- **TypeScript**ï¼šé¡å‹å®‰å…¨çš„ JavaScript
- **Tailwind CSS**ï¼šåŸå­åŒ– CSS æ¡†æ¶
- **Shadcn/ui**ï¼šé«˜å“è³ª UI å…ƒä»¶åº«
- **TanStack Query**ï¼šè³‡æ–™ç²å–å’Œç‹€æ…‹ç®¡ç†
- **Wouter**ï¼šè¼•é‡ç´šè·¯ç”±è§£æ±ºæ–¹æ¡ˆ

### å¾Œç«¯æŠ€è¡“æ£§
- **Node.js + Express**ï¼šä¼ºæœå™¨ç«¯é‹è¡Œç’°å¢ƒ
- **TypeScript**ï¼šå…¨æ£§é¡å‹å®‰å…¨
- **Drizzle ORM**ï¼šç¾ä»£åŒ–è³‡æ–™åº« ORM
- **PostgreSQL**ï¼šé—œè¯å¼è³‡æ–™åº«
- **Supabase**ï¼šå¾Œç«¯å³æœå‹™å¹³å°

### é–‹ç™¼å·¥å…·
- **Vite**ï¼šå¿«é€Ÿå»ºç½®å·¥å…·
- **ESLint + Prettier**ï¼šç¨‹å¼ç¢¼å“è³ªæ§åˆ¶
- **Husky**ï¼šGit hooks ç®¡ç†
- **Jest**ï¼šå–®å…ƒæ¸¬è©¦æ¡†æ¶

## ç³»çµ±éœ€æ±‚

### é–‹ç™¼ç’°å¢ƒ
- Node.js >= 18.0.0
- npm >= 9.0.0 æˆ– yarn >= 1.22.0
- PostgreSQL >= 14.0ï¼ˆæˆ– Supabase å¸³è™Ÿï¼‰
- Git >= 2.30.0

### ç”Ÿç”¢ç’°å¢ƒ
- è¨˜æ†¶é«”ï¼šæœ€å°‘ 1GB RAM
- å„²å­˜ç©ºé–“ï¼šæœ€å°‘ 2GB
- ç¶²è·¯ï¼šæ”¯æ´ HTTPS
- ç€è¦½å™¨ï¼šChrome 90+, Firefox 88+, Safari 14+

## å¿«é€Ÿé–‹å§‹

### 1. è¤‡è£½å°ˆæ¡ˆ
```bash
git clone <repository-url>
cd dayuan-order-system
```

### 2. å®‰è£ä¾è³´
```bash
npm install
```

### 3. ç’°å¢ƒè¨­å®š
```bash
cp .env.example .env
```

ç·¨è¼¯ `.env` æª”æ¡ˆï¼š
```env
# Supabase è¨­å®š
SUPABASE_URL=your-supabase-url
SUPABASE_ANON_KEY=your-supabase-anon-key

# è³‡æ–™åº«è¨­å®š
DATABASE_URL=postgresql://user:password@localhost:5432/database

# Google Sheets APIï¼ˆç”¢å“åƒ¹æ ¼æŸ¥è©¢ï¼‰
GOOGLE_SHEETS_API_KEY=your-google-api-key
GOOGLE_SHEETS_ID=your-spreadsheet-id

# æœƒè©±å¯†é‘°
SESSION_SECRET=your-session-secret
```

### 4. è³‡æ–™åº«åˆå§‹åŒ–
```bash
npm run db:push
npm run db:seed
```

### 5. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
```bash
npm run dev
```

æ‡‰ç”¨ç¨‹å¼å°‡åœ¨ http://localhost:5000 å•Ÿå‹•ã€‚

## ä½¿ç”¨èªªæ˜

### åŸºæœ¬æ“ä½œæµç¨‹

#### 1. å»ºç«‹æ–°è¨‚å–®
1. åœ¨ä¸»é é»æ“Šã€Œæ–°å¢è¨‚å–®ã€
2. æœå°‹ä¸¦é¸æ“‡ç”¢å“
3. è¨­å®šäº¤è²¨æ—¥æœŸå’Œæ•¸é‡
4. ç¢ºèªè¨‚å–®è³‡è¨Šä¸¦æäº¤

#### 2. ç®¡ç†è¨‚å–®
1. åœ¨ã€Œè¨‚å–®åˆ—è¡¨ã€æŸ¥çœ‹å¾…è™•ç†è¨‚å–®
2. ç·¨è¼¯è¨‚å–®æ•¸é‡æˆ–äº¤è²¨æ—¥æœŸ
3. æ¨™è¨˜è¨‚å–®ç‚ºå·²å®Œæˆ
4. åˆªé™¤éŒ¯èª¤è¨‚å–®

#### 3. æ­·å²æŸ¥è©¢
1. é€²å…¥ã€Œæ­·å²è¨‚å–®ã€é é¢
2. ä½¿ç”¨æœå°‹åŠŸèƒ½ç¯©é¸ç‰¹å®šè¨‚å–®
3. æ ¹æ“šæ¬Šé™æŸ¥çœ‹ä¸åŒæ™‚é–“ç¯„åœçš„è³‡æ–™

#### 4. ç®¡ç†å“¡åŠŸèƒ½
1. é»æ“Šè¨­å®šé½’è¼ªé¸æ“‡ã€Œç®¡ç†å“¡ç™»å…¥ã€
2. è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼
3. å­˜å–ç³»çµ±é…ç½®å’Œå®Œæ•´ç®¡ç†åŠŸèƒ½

### æ¬Šé™èªªæ˜

| ä½¿ç”¨è€…é¡å‹ | å¯å»ºç«‹è¨‚å–® | æ­·å²æŸ¥è©¢ç¯„åœ | ç®¡ç†åŠŸèƒ½ |
|------------|------------|-------------|----------|
| è¨ªå®¢       | âœ…         | è¿‘ 3 å€‹æœˆ   | âŒ       |
| æœƒå“¡       | âœ…         | è¿‘ 1 å¹´     | âŒ       |
| ç®¡ç†å“¡     | âœ…         | ç„¡é™åˆ¶      | âœ…       |

## API æ–‡ä»¶

### èªè­‰ç«¯é»

#### POST /api/auth/login
ç®¡ç†å“¡ç™»å…¥
```json
{
  "password": "admin-password"
}
```

#### POST /api/auth/logout
ç™»å‡ºç³»çµ±

#### GET /api/auth/status
æª¢æŸ¥ç™»å…¥ç‹€æ…‹

### è¨‚å–®ç«¯é»

#### GET /api/orders
å–å¾—è¨‚å–®åˆ—è¡¨
- Query åƒæ•¸ï¼š
  - `status`: "temporary" | "completed"
  - `page`: é ç¢¼
  - `limit`: æ¯é ç­†æ•¸

#### POST /api/orders
å»ºç«‹æ–°è¨‚å–®
```json
{
  "productCode": "PROD-001",
  "productName": "ç”¢å“åç¨±",
  "quantity": 100,
  "deliveryDate": "2024-12-31"
}
```

#### PUT /api/orders/:id
æ›´æ–°è¨‚å–®

#### DELETE /api/orders/:id
åˆªé™¤è¨‚å–®

### ç”¢å“ç«¯é»

#### GET /api/products
å–å¾—ç”¢å“åˆ—è¡¨
- Query åƒæ•¸ï¼š
  - `search`: æœå°‹é—œéµå­—

### çµ±è¨ˆç«¯é»

#### GET /api/stats/:year/:month?
å–å¾—çµ±è¨ˆè³‡æ–™

å®Œæ•´ API æ–‡ä»¶è«‹åƒè€ƒï¼š[docs/api/README.md](docs/api/README.md)

## éƒ¨ç½²æŒ‡å—

### Replit éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰
1. åœ¨ Replit ä¸­åŒ¯å…¥å°ˆæ¡ˆ
2. è¨­å®šç’°å¢ƒè®Šæ•¸
3. é»æ“Šã€ŒDeployã€æŒ‰éˆ•
4. ç³»çµ±æœƒè‡ªå‹•å»ºç½®å’Œéƒ¨ç½²

### æ‰‹å‹•éƒ¨ç½²
1. å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬ï¼š
```bash
npm run build
```

2. è¨­å®šç’°å¢ƒè®Šæ•¸
3. å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨ï¼š
```bash
npm start
```

### Docker éƒ¨ç½²
```bash
docker build -t dayuan-order-system .
docker run -p 5000:5000 dayuan-order-system
```

## ç¶­è­·æŒ‡å—

### æ—¥å¸¸ç¶­è­·
- **è³‡æ–™å‚™ä»½**ï¼šæ¯æ—¥è‡ªå‹•å‚™ä»½ Supabase è³‡æ–™åº«
- **æ—¥èªŒç›£æ§**ï¼šæª¢æŸ¥æ‡‰ç”¨ç¨‹å¼å’ŒéŒ¯èª¤æ—¥èªŒ
- **æ•ˆèƒ½ç›£æ§**ï¼šç›£æ§å›æ‡‰æ™‚é–“å’Œè¨˜æ†¶é«”ä½¿ç”¨é‡
- **å®‰å…¨æ›´æ–°**ï¼šå®šæœŸæ›´æ–°ä¾è³´å¥—ä»¶

### å¯†ç¢¼ç®¡ç†
ç®¡ç†å“¡å¯†ç¢¼ä½¿ç”¨ PBKDF2 åŠ å¯†å„²å­˜åœ¨ Supabaseï¼š
```sql
-- æŸ¥çœ‹åŠ å¯†é…ç½®
SELECT key, value FROM configs WHERE key = 'admin_password';
```

### è³‡æ–™åº«ç¶­è­·
```bash
# å‚™ä»½è³‡æ–™åº«
npm run db:backup

# åŸ·è¡Œé·ç§»
npm run db:migrate

# æª¢æŸ¥è³‡æ–™åº«ç‹€æ…‹
npm run db:status
```

### æ›´æ–° Google Sheets è¨­å®š
1. ç™»å…¥ Google Sheets ç®¡ç†æ§åˆ¶å°
2. æ›´æ–°ç”¢å“æ¸…å–®å’Œåƒ¹æ ¼è³‡è¨Š
3. ç¢ºèª API é‡‘é‘°æ¬Šé™

## æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. ç„¡æ³•é€£æ¥è³‡æ–™åº«
**å•é¡Œ**ï¼šApplication startup error
**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. æª¢æŸ¥ `DATABASE_URL` ç’°å¢ƒè®Šæ•¸
2. ç¢ºèª Supabase æœå‹™ç‹€æ…‹
3. æª¢æŸ¥ç¶²è·¯é€£ç·š

#### 2. Google Sheets API éŒ¯èª¤
**å•é¡Œ**ï¼šç”¢å“æœå°‹å¤±æ•—
**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. æª¢æŸ¥ `GOOGLE_SHEETS_API_KEY` è¨­å®š
2. ç¢ºèªè©¦ç®—è¡¨åˆ†äº«æ¬Šé™
3. æª¢æŸ¥ API é…é¡ä½¿ç”¨ç‹€æ³

#### 3. ç®¡ç†å“¡ç™»å…¥å•é¡Œ
**å•é¡Œ**ï¼šå¯†ç¢¼æ­£ç¢ºä½†ç„¡æ³•ç™»å…¥
**è§£æ±ºæ–¹æ¡ˆ**ï¼š
1. æ¸…é™¤ç€è¦½å™¨ç·©å­˜
2. æª¢æŸ¥ session é…ç½®
3. é‡æ–°è¨­å®šç®¡ç†å“¡å¯†ç¢¼

#### 4. å‰ç«¯å»ºç½®éŒ¯èª¤
**å•é¡Œ**ï¼šVite build å¤±æ•—
**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# æ¸…é™¤ç·©å­˜
rm -rf node_modules dist
npm install
npm run build
```

### æ—¥èªŒæª¢æŸ¥
```bash
# æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ
tail -f logs/app.log

# æª¢æŸ¥éŒ¯èª¤æ—¥èªŒ
tail -f logs/error.log
```

### æ•ˆèƒ½èª¿å„ª
1. **è³‡æ–™åº«æŸ¥è©¢å„ªåŒ–**ï¼šæ·»åŠ é©ç•¶ç´¢å¼•
2. **ç·©å­˜ç­–ç•¥**ï¼šä½¿ç”¨ Redis å¿«å–å¸¸ç”¨è³‡æ–™
3. **åœ–ç‰‡å„ªåŒ–**ï¼šå£“ç¸®éœæ…‹è³‡æº
4. **CDN é…ç½®**ï¼šä½¿ç”¨å…§å®¹åˆ†ç™¼ç¶²è·¯

## è²¢ç»æŒ‡å—

### é–‹ç™¼æµç¨‹
1. Fork å°ˆæ¡ˆåˆ°å€‹äººå¸³è™Ÿ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤è®Šæ›´ï¼š`git commit -m "Add new feature"`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. å»ºç«‹ Pull Request

### ç¨‹å¼ç¢¼è¦ç¯„
- éµå¾ª ESLint è¨­å®š
- ä½¿ç”¨ TypeScript é¡å‹è¨»è§£
- å¯«å–®å…ƒæ¸¬è©¦è¦†è“‹æ–°åŠŸèƒ½
- æ›´æ–°ç›¸é—œæ–‡ä»¶

### æ¸¬è©¦
```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦
npm test -- --grep "OrderForm"

# æª¢æŸ¥æ¸¬è©¦è¦†è“‹ç‡
npm run test:coverage
```

## æˆæ¬Š

MIT Â© 2024 é”é è¨‚å–®ç®¡ç†ç³»çµ±

è©³ç´°æˆæ¬Šæ¢æ¬¾è«‹åƒè€ƒ [LICENSE](LICENSE) æª”æ¡ˆã€‚

---

## æŠ€è¡“æ”¯æ´

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œè«‹ï¼š
1. æŸ¥é–± [å¸¸è¦‹å•é¡Œ](docs/FAQ.md)
2. æœå°‹ [Issues](../../issues)
3. å»ºç«‹æ–°çš„ [Issue](../../issues/new)
4. è¯ç¹«æŠ€è¡“æ”¯æ´ï¼šsupport@dayuan.com

**æœ€å¾Œæ›´æ–°**ï¼š2024å¹´5æœˆ30æ—¥
**æ–‡ä»¶ç‰ˆæœ¬**ï¼š2.0.0